---
# AWS EC2 Dynamic Inventory Configuration
# Simplified configuration following Hetzner pattern

plugin: amazon.aws.aws_ec2

# AWS connection settings
regions:
  - eu-north-1

# Instance filters - include running instances with ansible_group tag
filters:
  instance-state-name: running
  "tag:ansible_group": aws_dev

# Grouping configuration
keyed_groups:
  # Group by ansible_group tag
  - key: tags.ansible_group
    prefix: ""
    separator: ""

# Hostname configuration
hostnames:
  - tag:Name
  - public-ip-address

# Variables to include in inventory
compose:
  ansible_host: public_ip_address
  ansible_user: ubuntu
